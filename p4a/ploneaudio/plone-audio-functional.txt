Plone4Artists Audio Plone Functional
====================================

This functional test assumes a plone site has already been installed
and that we're ready to actually start dealing with audio files.

Set Up
------

Begin by setting up our Manager user.

    >>> uf = app.acl_users
    >>> uf._doAddUser('admin', 'admin', ['Manager'], [])

Next we install the product.

    >>> from p4a.ploneaudio import sitesetup
    >>> sitesetup.setup_portal(app.plone)

Audio Folders
-------------

We begin by setting up a test folder.

    >>> import Products.Five.testbrowser
    >>> browser = Products.Five.testbrowser.Browser()
    >>> browser.addHeader('Authorization', 'Basic admin:admin')
    >>> browser.open('http://localhost/plone')

    >>> browser.getLink('Folder').click()
    >>> browser.getControl(name='title').value = 'Test Audio Album'
    >>> browser.getControl('Save').click()

At this point we're inside an empty folder.  The first test here is to
*audio activate* this folder.

    >>> browser.getLink('Activate Audio').click()

Since the album/folder is currently empty, the total length amount should
be zero.

    >>> 'This CD has no audio files added to it.' in browser.contents
    True

    >>> '00:00' in browser.contents
    True
